/**
 * Header component for vulnerability list with sorting controls
 */

import { HStack, Button, Text, Box } from '@chakra-ui/react';
import { SortField } from '../../hooks/useSortedVulnerabilities';
import { ArrowUpIcon, ArrowDownIcon } from '@chakra-ui/icons';

interface VulnerabilityListHeaderProps {
  sortField: SortField;
  sortOrder: 'asc' | 'desc';
  onSort: (field: SortField) => void;
}

const sortLabels: Record<SortField, string> = {
  cvss: 'CVSS Score',
  severity: 'Severity',
  published: 'Published Date',
  cve: 'CVE ID',
};

function VulnerabilityListHeader({
  sortField,
  sortOrder,
  onSort,
}: VulnerabilityListHeaderProps) {
  return (
    <Box bg="gray.50" p={4} borderRadius="md" mb={4}>
      <HStack spacing={4}>
        <Text fontSize="sm" fontWeight="bold" color="gray.600">
          Sort by:
        </Text>
        {(Object.keys(sortLabels) as SortField[]).map((field) => (
          <Button
            key={field}
            size="sm"
            variant={sortField === field ? 'solid' : 'ghost'}
            colorScheme={sortField === field ? 'blue' : 'gray'}
            onClick={() => onSort(field)}
            rightIcon={
              sortField === field ? (
                sortOrder === 'asc' ? <ArrowUpIcon /> : <ArrowDownIcon />
              ) : undefined
            }
          >
            {sortLabels[field]}
          </Button>
        ))}
      </HStack>
    </Box>
  );
}

export default VulnerabilityListHeader;

